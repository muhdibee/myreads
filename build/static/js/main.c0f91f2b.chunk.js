(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,a,t){e.exports=t(40)},30:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(16),l=t.n(o),c=t(17),i=t(18),s=t(23),m=t(19),u=t(24),h=t(6),d=t(8),v=t(0),g=t(12),b="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:f},p=function(e,a){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(g.a)({},E,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:a})}).then(function(e){return e.json()})},k=function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(g.a)({},E,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},y=(t(30),function(e){var a=e.inShelvebooks,t=e.handleHomePageShelfChange,n=[],o=[],l=[];return a.map(function(e){return function(e){"currentlyReading"===e.shelf&&n.push(e)}(e),function(e){"wantToRead"===e.shelf&&o.push(e)}(e),function(e){"read"===e.shelf&&l.push(e)}(e),""}),r.a.createElement("div",{className:"list-books"},console.log(),r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads")),r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title currently-reading"},"Currently Reading"),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},n.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("a",{href:e.previewLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(e.imageLinks.thumbnail,")")}})),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{value:e.shelf,onChange:function(a){return t(e.id,a)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},e.title),r.a.createElement("div",{className:"book-authors"},Array.isArray(e.authors)?e.authors.join(", "):e.authors)))})))),r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title want-to-read"},"Want to Read"),r.a.createElement("div",{className:"bookshelf-books"}," ",r.a.createElement("ol",{className:"books-grid"},o.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("a",{href:e.previewLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(e.imageLinks.thumbnail,")")}})),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{value:e.shelf,onChange:function(a){return t(e.id,a)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},e.title),r.a.createElement("div",{className:"book-authors"},e.authors.join(", "))))})))),r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title read"},"Read"),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},l.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("a",{href:e.previewLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(e.imageLinks.thumbnail,")")}})),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{value:e.shelf,onChange:function(a){return t(e.id,a)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},e.title),r.a.createElement("div",{className:"book-authors"},e.authors.join(", "))))})))))),r.a.createElement("div",{className:"open-search"},r.a.createElement(d.b,{to:"/search"},r.a.createElement("button",null,"Add a book"))))}),N=t(22),S=["Android","Art","Artificial Intelligence","Astronomy","Austen","Baseball","Basketball","Bhagat","Biography","Brief","Business","Camus","Cervantes","Christie","Classics","Comics","Cook","Cricket","Cycling","Desai","Design","Development","Digital Marketing","Drama","Drawing","Dumas","Education","Everything","Fantasy","Film","Finance","First","Fitness","Football","Future","Games","Gandhi","Homer","Horror","Hugo","Ibsen","Journey","Kafka","King","Lahiri","Larsson","Learn","Literary Fiction","Make","Marquez","Money","Mystery","Negotiate","Painting","Philosophy","Photography","Poetry","Production","Programming","React","Redux","River","Robotics","Rowling","Satire","Science Fiction","Shakespeare","Singh","Swimming","Tale","Thrun","Time","Tolstoy","Travel","Ultimate","Virtual Reality","Web Development","iOS"];function R(e){var a=e.handleSearch,t=e.query,n=e.queryResult,o=e.handleSearchPageShelfChange,l=e.changeShelf;console.log(n);var c=[];return Array.isArray(n)&&n.map(function(e){return c.push(e)}),r.a.createElement("div",{className:"search-books"},r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(d.b,{to:"/"},r.a.createElement("button",{className:"close-search"},"Close")),r.a.createElement("div",{className:"search-books-input-wrapper"},r.a.createElement(N.DebounceInput,{minLength:1,debounceTimeout:300,placeholder:"Search by title or author",onChange:function(e){return a(e)},value:t}))),r.a.createElement("div",{className:"search-books-results"},r.a.createElement("ol",{className:"books-grid"},0===c.length?r.a.createElement(C,null):c.map(function(e){var a=e.imageLinks?e.imageLinks.thumbnail:"";return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("a",{href:e.previewLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(a,")")}})),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{value:e.shelf?e.shelf:"none",onChange:function(a){return function(e,a){o(e,a);var t=c.find(function(a){return a.id===e}),n=c.indexOf(t);t.shelf=a.target.value;var r=c.filter(function(a){return a.id!==e});r.splice(n,0,t),l(c=r)}(e.id,a)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},e.title),r.a.createElement("div",{className:"book-authors"},Array.isArray(e.authors)?e.authors.join(", "):e.authors)))}))))}function C(){return r.a.createElement("div",{className:"search-page-text-color"},r.a.createElement("h1",{className:"text-center"},"Please provide a registered search term in the search field above"),r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"See some search terms below:"),r.a.createElement("div",{className:"text-div"},S.map(function(e){return r.a.createElement("h4",{style:{margin:"3px",padding:"3px",border:"1px ridge"}},e)}))),r.a.createElement("p",null))}function w(e){var a=e.location;return r.a.createElement("div",{style:{marginTop:20,marginBottom:20,marginLeft:20,alignItems:"center"}},r.a.createElement("h1",null,"Error 404: page not found"),r.a.createElement("h5",null,"No Page match for ",r.a.createElement("code",null," https://myreadsapp.com",a.pathname)))}var P=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).searchHandler=function(e){t.setState({query:e.target.value}),k(t.state.query).then(function(e){var a=[];Array.isArray(e)?(e.map(function(e){var n,r=t.state.inShelvebooks.filter(function(a){return e.id===a.id})[0];return r?(n=r,a.push(n)):((n=e).shelf="none",a.push(n))}),t.setState({queryResult:a})):t.setState({queryResult:[]})})},t.state={inShelvebooks:[],query:"",queryResult:[]},t.handleHomePageShelfChange=t.handleHomePageShelfChange.bind(Object(h.a)(Object(h.a)(t))),t.changeShelf=t.changeShelf.bind(Object(h.a)(Object(h.a)(t))),t.updateHomePage=t.updateHomePage.bind(Object(h.a)(Object(h.a)(t))),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"updateHomePage",value:function(){var e=this;fetch("".concat(b,"/books"),{headers:E}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(a){e.setState({inShelvebooks:a})})}},{key:"componentDidMount",value:function(){this.updateHomePage()}},{key:"handleHomePageShelfChange",value:function(e,a){var t=this.state.inShelvebooks.find(function(a){return a.id===e});t.shelf=a.target.value;var n=this.state.inShelvebooks.filter(function(a){return a.id!==e});n.push(t),this.setState({inShelvebooks:n}),p({id:e},a.target.value).catch()}},{key:"handleSearchPageShelfChange",value:function(e,a){p({id:e},a.target.value).catch()}},{key:"changeShelf",value:function(e){this.setState({queryResult:e}),this.updateHomePage()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:function(){return r.a.createElement(y,{inShelvebooks:e.state.inShelvebooks,handleHomePageShelfChange:e.handleHomePageShelfChange})}}),r.a.createElement(v.a,{exact:!0,path:"/search"},r.a.createElement(R,{handleSearch:this.searchHandler,query:this.state.query,queryResult:this.state.queryResult,handleSearchPageShelfChange:this.handleSearchPageShelfChange,changeShelf:this.changeShelf})),r.a.createElement(v.a,{component:w})))}}]),a}(n.Component);t(38);l.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.c0f91f2b.chunk.js.map